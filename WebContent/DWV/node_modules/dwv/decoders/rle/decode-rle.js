/**
 * RLE decoder worker.
 */
// Do not warn if these variables were not defined before.
/* global importScripts, self, JpxImage */

importScripts('rle.js');

self.addEventListener('message', function (event) {
	debugger;
    // decode DICOM buffer
    var decoder = new dwv.decoder.RleDecoder();
    // post decoded data
    self.postMessage([decoder.decode(
        event.data.buffer,
        event.data.bitsAllocated,
        event.data.isSigned,
        event.data.pixelMeta.sliceSize,
        event.data.pixelMeta.samplesPerPixel,
        event.data.pixelMeta.planarConfiguration )]);

}, false);